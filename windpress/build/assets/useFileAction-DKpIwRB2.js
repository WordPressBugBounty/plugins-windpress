import{d as vi,a as hi,w as be,__tla as yi}from"./worker-DuwNrzuJ.js";import{ah as ge,ai as Ee,m as bi,n as Fe,a as z,aj as M,p as Pe,u as gi,e as Ei,__tla as Fi}from"./dashboard-KRVprCLv.js";import{u as Pi,e as Si,h as Ci}from"./index-BWcrFNHu.min.js";import{U as Se,i as Ce,S as W,a as ji}from"./_initCloneObject-DlLbeobz.min.js";import{M as xi,e as Ai,i as je}from"./_toKey-BxB36GnB.min.js";import{S as xe,b as Ae}from"./isObject-K1YoVIH1.min.js";import{ag as ke,W as O,w as H,a7 as ki,m as $,Y as I,a2 as V,am as Oi,Z as g,aF as Ii,_ as p,u as Oe,j as F,a3 as D,a4 as P}from"./runtime-core.esm-bundler-Cyr_sIeO.min.js";import{e as Vi}from"./vfs-D2UpcTQ4.js";import{n as Di}from"./index.browser-B0na17u1.min.js";import{d as Ie}from"./dayjs.min-DWUdwifa.min.js";import{_ as L}from"./preload-helper-CsYsLKPR.min.js";import{p as Li}from"./index-CKIe3sfe.min.js";import{c as Ri,a as Ti}from"./index-jXUazPdk.min.js";import{_ as Ve}from"./FormField-CoSeltsl.min.js";let De,R,Yi=Promise.all([(()=>{try{return yi}catch{}})(),(()=>{try{return Fi}catch{}})()]).then(async()=>{var Le="__lodash_hash_undefined__";function Re(e){return this.__data__.set(e,Le),this}function Te(e){return this.__data__.has(e)}function T(e){var i=-1,n=e==null?0:e.length;for(this.__data__=new xi;++i<n;)this.add(e[i])}T.prototype.add=T.prototype.push=Re,T.prototype.has=Te;function Ye(e,i){for(var n=-1,s=e==null?0:e.length;++n<s;)if(i(e[n],n,e))return!0;return!1}function ze(e,i){return e.has(i)}var Me=1,$e=2;function q(e,i,n,s,r,t){var o=n&Me,l=e.length,c=i.length;if(l!=c&&!(o&&c>l))return!1;var _=t.get(e),m=t.get(i);if(_&&m)return _==i&&m==e;var w=-1,f=!0,b=n&$e?new T:void 0;for(t.set(e,i),t.set(i,e);++w<l;){var h=e[w],E=i[w];if(s)var C=o?s(E,h,w,i,e,t):s(h,E,w,e,i,t);if(C!==void 0){if(C)continue;f=!1;break}if(b){if(!Ye(i,function(x,a){if(!ze(b,a)&&(h===x||r(h,x,n,s,t)))return b.push(a)})){f=!1;break}}else if(!(h===E||r(h,E,n,s,t))){f=!1;break}}return t.delete(e),t.delete(i),f}function Ne(e){var i=-1,n=Array(e.size);return e.forEach(function(s,r){n[++i]=[r,s]}),n}function Ue(e){var i=-1,n=Array(e.size);return e.forEach(function(s){n[++i]=s}),n}var We=1,He=2,qe="[object Boolean]",Be="[object Date]",Ze="[object Error]",Je="[object Map]",Ke="[object Number]",Ge="[object RegExp]",Qe="[object Set]",Xe="[object String]",ei="[object Symbol]",ii="[object ArrayBuffer]",ni="[object DataView]",B=xe?xe.prototype:void 0,N=B?B.valueOf:void 0;function ti(e,i,n,s,r,t,o){switch(n){case ni:if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case ii:return!(e.byteLength!=i.byteLength||!t(new Se(e),new Se(i)));case qe:case Be:case Ke:return Ai(+e,+i);case Ze:return e.name==i.name&&e.message==i.message;case Ge:case Xe:return e==i+"";case Je:var l=Ne;case Qe:var c=s&We;if(l||(l=Ue),e.size!=i.size&&!c)return!1;var _=o.get(e);if(_)return _==i;s|=He,o.set(e,i);var m=q(l(e),l(i),s,r,t,o);return o.delete(e),m;case ei:if(N)return N.call(e)==N.call(i)}return!1}var ri=1,si=Object.prototype,ai=si.hasOwnProperty;function oi(e,i,n,s,r,t){var o=n&ri,l=ge(e),c=l.length,_=ge(i),m=_.length;if(c!=m&&!o)return!1;for(var w=c;w--;){var f=l[w];if(!(o?f in i:ai.call(i,f)))return!1}var b=t.get(e),h=t.get(i);if(b&&h)return b==i&&h==e;var E=!0;t.set(e,i),t.set(i,e);for(var C=o;++w<c;){f=l[w];var x=e[f],a=i[f];if(s)var d=o?s(a,x,f,i,e,t):s(x,a,f,e,i,t);if(!(d===void 0?x===a||r(x,a,n,s,t):d)){E=!1;break}C||(C=f=="constructor")}if(E&&!C){var v=e.constructor,y=i.constructor;v!=y&&"constructor"in e&&"constructor"in i&&!(typeof v=="function"&&v instanceof v&&typeof y=="function"&&y instanceof y)&&(E=!1)}return t.delete(e),t.delete(i),E}var li=1,Z="[object Arguments]",J="[object Array]",Y="[object Object]",ci=Object.prototype,K=ci.hasOwnProperty;function di(e,i,n,s,r,t){var o=je(e),l=je(i),c=o?J:Ee(e),_=l?J:Ee(i);c=c==Z?Y:c,_=_==Z?Y:_;var m=c==Y,w=_==Y,f=c==_;if(f&&Ce(e)){if(!Ce(i))return!1;o=!0,m=!1}if(f&&!m)return t||(t=new W),o||ji(e)?q(e,i,n,s,r,t):ti(e,i,c,n,s,r,t);if(!(n&li)){var b=m&&K.call(e,"__wrapped__"),h=w&&K.call(i,"__wrapped__");if(b||h){var E=b?e.value():e,C=h?i.value():i;return t||(t=new W),r(E,C,n,s,t)}}return f?(t||(t=new W),oi(e,i,n,s,r,t)):!1}function G(e,i,n,s,r){return e===i?!0:e==null||i==null||!Ae(e)&&!Ae(i)?e!==e&&i!==i:di(e,i,n,s,G,r)}function Q(e,i){return G(e,i)}let X,ee,ie,U,ne,te,re,se,ae,oe,le,ce,de,pe,ue,_e,fe,we,me,ve,he,S,u,A;R=vi("volume",()=>{const e=hi(),i=bi(),n=ke({entries:[]}),s=ke({entries:[]}),r=O(null),t=Pi("windpress.dashboard.store.volume.activeViewEntryRelativePath",null);function o(a){return a=a.replace(/[^a-zA-Z0-9._/-]+/g,""),a=a.replace(/\.{2,}/g,"."),a=a.replace(/\/{2,}/g,"/"),a=a.replace(/^[._/ -]+|[._/ -]+$/g,""),a}function l(a){let d=a.split("/").map(o).join("/");d=o(d);const v=n.entries.findIndex(y=>y.relative_path===d);if(v!==-1){if(n.entries[v].hidden===!1)throw new Error(wp.i18n.__(`A file named "${d}" already exists`,"windpress"));n.entries[v].hidden=!1,n.entries[v].content=`/* file: ${d} */

`}else n.entries.push({name:d.split("/").pop()||"",content:`/* file: ${d} */

`,relative_path:`${d}`,handler:"internal"});r.value=`${d}`}function c(a){const d=n.entries.findIndex(v=>v.relative_path===a.relative_path);n.entries[d].content="",n.entries[d].hidden=!0,r.value===a.relative_path&&(r.value=null)}function _(a,d){const v=n.entries.findIndex(j=>j.relative_path===a.relative_path);let y=d.split("/").map(o).join("/");y=o(y);const k=n.entries.findIndex(j=>j.relative_path===y);if(k!==-1){if(n.entries[k].hidden===!1)throw new Error(wp.i18n.__(`A file named "${y}" already exists`,"windpress"));n.entries[k].hidden=!1,n.entries[k].content=n.entries[v].content,n.entries[k].signature&&delete n.entries[k].signature}else{const j=Fe(n.entries[v]);j.relative_path=y,j.name=y.split("/").pop()||"",j.content=n.entries[v].content,j.hidden=!1,j.signature=void 0,n.entries.push(j)}c(a)}function m(a){const d=n.entries.findIndex(v=>v.relative_path===a.relative_path);n.entries[d].content=""}function w(){return n.entries.reduce((a,d)=>(a[`/${d.relative_path}`]=d.content,a),{})}async function f(){return i.add("volume.doPull"),await e.request("/admin/volume/index",{method:"GET"}).then(a=>a.data).then(a=>{const d=a.entries;n.entries=d,h()}).catch(a=>{}).finally(()=>{i.remove("volume.doPull")})}async function b(){return i.add("volume.doPush"),e.request("/admin/volume/store",{method:"POST",data:{volume:{entries:n.entries}}}).then(a=>(h(),{message:a.data.message,success:!0})).catch(a=>{throw new Error(a.response?a.response.data.message:a.message)}).finally(()=>{i.remove("volume.doPush")})}H(r,a=>{t.value=a});function h(){if(n.entries.length===0)return;const a=n.entries.some(d=>d.relative_path===t.value);r.value=a?t.value:"main.css",E.value&&(s.entries=Fe(n.entries))}const E=ki(()=>!Q(n.entries,s.entries));function C(a){const d=n.entries.find(y=>y.relative_path===a),v=s.entries.find(y=>y.relative_path===a);return!Q(d,v)}async function x(){return n.entries.length===0?f():Promise.resolve()}return{data:n,initData:s,activeViewEntryRelativePath:r,hasChanged:E,addNewEntry:l,getKVEntries:w,doPull:f,doPush:b,entryHasChanged:C,softDeleteEntry:c,resetEntry:m,renameEntry:_,cleanPath:o,initPull:x}}),X={class:"flex"},ee=["innerHTML"],ie={class:"flex gap-2"},U=$({__name:"ConfirmFileActionModal",props:{filePath:{},fileContent:{},actionYes:{},actionNo:{}},emits:["close"],setup(e,{emit:i}){const n=e,s=Si();let r=O(null);(async()=>r.value=await Ri({themes:[L(()=>import("./dark-plus-C3mMm8J8.min.js"),[],import.meta.url),L(()=>import("./light-plus-B7mTdjB0.min.js"),[],import.meta.url)],langs:[L(()=>import("./css-DPfMkruS.min.js"),[],import.meta.url),L(()=>import("./javascript-BMMyXqK5.min.js"),[],import.meta.url)],engine:Ti(L(()=>import("./wasm-CG6Dc4jp.min.js"),[],import.meta.url))}))();const t=Ci(async()=>{if(!n.fileContent||!r.value)return;const l=Li.extname(n.filePath).replace(".","");return r.value.codeToHtml(n.fileContent,{lang:l==="css"?"css":"javascript",theme:s.value==="dark"?"dark-plus":"light-plus"})}),o=i;return(l,c)=>{const _=z,m=M;return V(),I(m,{close:{onClick:()=>o("close",!1)}},Oi({title:g(()=>[D(P(l.i18n.sprintf(l.i18n.__('Are you sure you want to %s the "%s" file?',"windpress"),l.actionYes,l.filePath)),1)]),footer:g(()=>[p("div",ie,[F(_,{color:"neutral",variant:"soft",label:l.i18n.__("cancel","windpress"),onClick:c[0]||(c[0]=w=>o("close",!1)),class:"capitalize"},null,8,["label"]),F(_,{color:"error",variant:"soft",label:l.actionYes,onClick:c[1]||(c[1]=w=>o("close",!0)),class:"capitalize"},null,8,["label"])])]),_:2},[l.fileContent?{name:"body",fn:g(()=>[(V(),I(Ii,null,{default:g(()=>[p("div",X,[p("div",{innerHTML:Oe(t),class:"flex [&>pre]:p-4 [&>pre]:mr-6"},null,8,ee)])]),_:1}))]),key:"0"}:void 0]),1032,["close"])}}}),ne={class:"flex flex-col gap-4 text-(--ui-text)"},te={class:"font-bold uppercase my-2"},re={class:"w-full"},se={class:"font-semibold w-1/3"},ae={class:""},oe={class:"font-semibold w-1/5"},le={class:""},ce={class:"font-semibold w-1/5"},de={class:""},pe={class:"font-semibold w-1/5"},ue={class:""},_e={class:"flex gap-2"},fe=$({__name:"ConfirmVolumeImportModal",props:{data:{}},emits:["close"],setup(e,{emit:i}){const n=e,s=i;return(r,t)=>{const o=z,l=M;return V(),I(l,{close:{onClick:()=>s("close",!1)}},{title:g(()=>[D(P(r.i18n.__("Import SFS volume","windpress")),1)]),body:g(()=>[p("div",ne,[p("div",null,[p("div",te,P(r.i18n.__("File info","windpress")),1),p("table",re,[p("tbody",null,[p("tr",null,[p("td",se,P(r.i18n.__("WindPress version","windpress")),1),t[2]||(t[2]=p("td",{class:""},":",-1)),p("td",ae,P(n.data._version),1)]),p("tr",null,[p("td",oe,P(r.i18n.__("WP Version","windpress")),1),t[3]||(t[3]=p("td",{class:""},":",-1)),p("td",le,P(n.data._wp_version),1)]),p("tr",null,[p("td",ce,P(r.i18n.__("Exported on","windpress")),1),t[4]||(t[4]=p("td",{class:""},":",-1)),p("td",de,P(Oe(Ie)(n.data._timestamp).format("YYYY-MM-DD HH:mm:ss")),1)]),p("tr",null,[p("td",pe,P(r.i18n.__("Entries","windpress")),1),t[5]||(t[5]=p("td",{class:""},":",-1)),p("td",ue,P(n.data.entries.length),1)])])])]),D(" "+P(r.i18n.__("This will overwrite all existing files. Are you sure you want to continue?","windpress")),1)])]),footer:g(()=>[p("div",_e,[F(o,{color:"neutral",variant:"soft",label:r.i18n.__("cancel","windpress"),onClick:t[0]||(t[0]=c=>s("close",!1)),class:"capitalize"},null,8,["label"]),F(o,{color:"warning",variant:"soft",label:r.i18n.__("Yes, continue","windpress"),onClick:t[1]||(t[1]=c=>s("close",!0)),class:"capitalize"},null,8,["label"])])]),_:1},8,["close"])}}}),we={class:"flex gap-2"},me=$({__name:"NewFileFormModal",emits:["close"],setup(e,{emit:i}){const n=R(),s=i,r=O(""),t=O(!1);H(()=>r.value,()=>{t.value=!1});function o(){if(t.value=!1,!r.value){t.value=wp.i18n.__("Filename is required","windpress");return}if(!r.value.endsWith(".css")&&!r.value.endsWith(".js")){t.value=wp.i18n.__("File extension must be .css or .js","windpress");return}if(!/^[a-zA-Z0-9_.\-\/]+$/.test(r.value)){t.value=wp.i18n.__("Only alphanumeric, dash, underscore, forward slash, and dot are allowed","windpress");return}if(n.data.entries.find(l=>l.relative_path===`${r.value}`&&l.hidden!==!0)){t.value=wp.i18n.sprintf(wp.i18n.__('A file named "%s" already exists',"windpress"),r.value);return}s("close",r.value)}return(l,c)=>{const _=Pe,m=Ve,w=z,f=M;return V(),I(f,{close:{onClick:()=>s("close")}},{title:g(()=>[D(P(l.i18n.__("Create New File","windpress")),1)]),body:g(()=>[F(m,{label:"Filename",required:"",description:l.i18n.__("Filename may include a path. (css or js)","windpress"),error:t.value},{default:g(()=>[F(_,{modelValue:r.value,"onUpdate:modelValue":c[0]||(c[0]=b=>r.value=b),placeholder:"theme/color.css",class:"w-full"},null,8,["modelValue"])]),_:1},8,["description","error"])]),footer:g(()=>[p("div",we,[F(w,{color:"neutral",variant:"soft",label:l.i18n.__("cancel","windpress"),onClick:c[1]||(c[1]=b=>s("close")),class:"capitalize"},null,8,["label"]),F(w,{color:"primary",variant:"soft",label:l.i18n.__("Submit","windpress"),onClick:o,class:"capitalize"},null,8,["label"])])]),_:1},8,["close"])}}}),ve={class:"flex gap-2"},he=$({__name:"RenameFileFormModal",props:{filePath:{}},emits:["close"],setup(e,{emit:i}){const n=R(),s=i,r=e,t=O(r.filePath),o=O(!1);H(()=>t.value,()=>{o.value=!1});function l(){if(o.value=!1,!t.value){o.value=wp.i18n.__("Filename is required","windpress");return}if(!t.value.endsWith(".css")&&!t.value.endsWith(".js")){o.value=wp.i18n.__("File extension must be .css or .js","windpress");return}if(!/^[a-zA-Z0-9_.\-\/]+$/.test(t.value)){o.value=wp.i18n.__("Only alphanumeric, dash, underscore, forward slash, and dot are allowed","windpress");return}if(n.data.entries.find(c=>c.relative_path===`${t.value}`&&c.hidden!==!0)){o.value=wp.i18n.sprintf(wp.i18n.__('A file named "%s" already exists',"windpress"),t.value);return}s("close",t.value)}return(c,_)=>{const m=Pe,w=Ve,f=z,b=M;return V(),I(b,{close:{onClick:()=>s("close")}},{title:g(()=>[D(P(c.i18n.__("Rename File","windpress")),1)]),body:g(()=>[F(w,{label:"Old Filename",description:c.i18n.__("The previous filename","windpress"),class:"mb-2"},{default:g(()=>[F(m,{value:r.filePath,disabled:!0,class:"w-full"},null,8,["value"])]),_:1},8,["description"]),F(w,{label:"New Filename",required:"",description:c.i18n.__("Filename may include a path. (css or js)","windpress"),error:o.value},{default:g(()=>[F(m,{modelValue:t.value,"onUpdate:modelValue":_[0]||(_[0]=h=>t.value=h),placeholder:"theme/color.css",class:"w-full"},null,8,["modelValue"])]),_:1},8,["description","error"])]),footer:g(()=>[p("div",ve,[F(f,{color:"neutral",variant:"soft",label:c.i18n.__("cancel","windpress"),onClick:_[1]||(_[1]=h=>s("close")),class:"capitalize"},null,8,["label"]),F(f,{color:"primary",variant:"soft",label:c.i18n.__("Submit","windpress"),onClick:l,class:"capitalize"},null,8,["label"])])]),_:1},8,["close"])}}}),S=R(),u=Ei(),A=gi();async function pi(e){if(e.readonly){u.add({title:wp.i18n.__("Error","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is read-only and not deletable',"windpress"),e.relative_path),color:"error",icon:"i-lucide-trash"});return}if(e.relative_path==="main.css"){u.add({title:wp.i18n.__("Error","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is required for the WindPress to work and not deletable',"windpress"),e.relative_path),color:"error",icon:"i-lucide-trash"});return}if(!await A.create(U,{destroyOnClose:!0,props:{filePath:e.relative_path,fileContent:e.content,actionYes:wp.i18n.__("delete","windpress")}}).open().result){u.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is not deleted',"windpress"),e.relative_path),color:"info",icon:"i-lucide-trash"});return}S.softDeleteEntry(e),u.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" deleted',"windpress"),e.relative_path),color:"success",icon:"i-lucide-trash"})}async function ui(e){if(!await A.create(U,{destroyOnClose:!0,props:{filePath:e.relative_path,fileContent:e.content,actionYes:wp.i18n.__("reset","windpress")}}).open().result){u.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" is not reset',"windpress"),e.relative_path),color:"info",icon:"lucide:file-minus-2"});return}S.resetEntry(e),u.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" reset',"windpress"),e.relative_path),color:"success",icon:"lucide:file-minus-2"}),ye().then(()=>{S.doPull()})}async function ye(){const e={title:wp.i18n.__("Saving...","windpress"),description:wp.i18n.__("Please wait while we save your changes.","windpress"),duration:0,icon:"lucide:loader-circle",close:!1,color:"neutral",ui:{icon:"animate-spin"}};return u.toasts.value.find(i=>i.id==="file-editor.doSave")?u.update("file-editor.doSave",{...e}):u.add({id:"file-editor.doSave",...e}),S.doPush().then(()=>{u.update("file-editor.doSave",{title:wp.i18n.__("Saved","windpress"),description:wp.i18n.__("Your changes have been saved.","windpress"),icon:"i-lucide-save",color:"success",duration:void 0,close:!0,ui:{icon:void 0}})}).catch(i=>{u.update("file-editor.doSave",{title:wp.i18n.__("Error","windpress"),description:wp.i18n.__("An error occurred while saving your changes.","windpress"),icon:"i-lucide-save",color:"error",duration:void 0,close:!0,ui:{icon:void 0}})}).finally(()=>{const i=new BroadcastChannel("windpress");["windpress/observer","windpress/intellisense"].forEach(n=>{i.postMessage({source:"windpress/dashboard",target:n,task:"windpress.code-editor.saved",payload:{volume:Vi(S.getKVEntries())}})}),i.close()})}function _i(){const e={entries:S.data.entries,_windpress:!0,_version:window.windpress._version,_wp_version:window.windpress._wp_version,_timestamp:new Date().getTime(),_uid:Di(),_type:"sfs"},i=be.compressToUint8Array(JSON.stringify(e)),n=new Blob([i],{type:"application/octet-stream"}),s=URL.createObjectURL(n),r=document.createElement("a");r.href=s,r.download=`sfs-${Ie().format("YYYYMMDDHHmmss")}.windpress`,r.click(),URL.revokeObjectURL(s),u.add({title:wp.i18n.__("Exported","windpress"),description:wp.i18n.__("SFS volume data exported","windpress"),color:"success",icon:"i-lucide-download"})}async function fi(e){const i=e.target;if(!i||!i.files||i.files.length===0)return;const n=i.files[0];if(!n)return;if(!n.name.endsWith(".windpress")){u.add({title:wp.i18n.__("SFS Import","windpress"),description:wp.i18n.__("Invalid file format","windpress"),color:"error",icon:"i-lucide-upload"});return}let s;try{if(s=JSON.parse(be.decompressFromUint8Array(new Uint8Array(await n.arrayBuffer()))||"{}"),!s._windpress||s._type!=="sfs")throw new Error(wp.i18n.__("File is not a valid WindPress file","windpress"))}catch(r){u.add({title:wp.i18n.__("SFS Import","windpress"),description:r instanceof Error?r.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-upload"});return}if(!await A.create(fe,{destroyOnClose:!0,props:{data:s}}).open().result){u.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.__("SFS import canceled","windpress"),color:"info",icon:"i-lucide-upload"}),i.value="";return}u.add({id:"file-import.doImport",title:wp.i18n.__("Importing...","windpress"),description:wp.i18n.__("Please wait while we import the data.","windpress"),icon:"lucide:loader-circle",close:!1,duration:0,color:"neutral",ui:{icon:"animate-spin"}}),await new Promise(r=>setTimeout(r,500));try{const r=s.entries.map(t=>{if(t.signature&&t.handler==="internal"){const{signature:o,...l}=t;return l}return t});S.data.entries=r,u.update("file-import.doImport",{title:wp.i18n.__("Success","windpress"),description:wp.i18n.__("SFS data imported. Remember to save the changes.","windpress"),color:"success",icon:"i-lucide-upload",duration:void 0,close:!0,ui:{icon:void 0}}),i.value=""}catch(r){u.update("file-import.doImport",{title:wp.i18n.__("Error","windpress"),description:r instanceof Error?r.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-upload",close:!0,duration:void 0,ui:{icon:void 0}}),i.value=""}}async function wi(){const e=await A.create(me,{destroyOnClose:!0}).open().result;if(!e){u.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.__("New file creation canceled","windpress"),color:"info",icon:"i-lucide-plus"});return}try{S.addNewEntry(e),u.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" created',"windpress"),e),color:"success",icon:"i-lucide-plus"})}catch(i){u.add({title:wp.i18n.__("Error","windpress"),description:i instanceof Error?i.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-plus"})}}async function mi(e){const i=await A.create(he,{destroyOnClose:!0,props:{filePath:e.relative_path}}).open().result;if(!i){u.add({title:wp.i18n.__("Canceled","windpress"),description:wp.i18n.__("File rename canceled","windpress"),color:"info",icon:"i-lucide-edit"});return}try{S.renameEntry(e,i),u.add({title:wp.i18n.__("Success","windpress"),description:wp.i18n.sprintf(wp.i18n.__('File "%s" renamed to "%s"',"windpress"),e.relative_path,i),color:"success",icon:"i-lucide-edit"})}catch(n){u.add({title:wp.i18n.__("Error","windpress"),description:n instanceof Error?n.message:wp.i18n.__("An unknown error occurred","windpress"),color:"error",icon:"i-lucide-edit"})}}De=function(){return{deleteFile:pi,resetFile:ui,save:ye,exportVolume:_i,importVolume:fi,addNewFile:wi,renameFile:mi}}});export{Yi as __tla,De as a,R as u};
